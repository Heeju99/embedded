#include "Button.h"

enum {RELEASED, PUSHED = 0};
typedef enum {NO_ACT, ACT_PUSHED, ACT_RELEASED} button_state_t;

int Button_Init()
{
	GPIO_init(GPIOC,13,INPUT);
}

button_state_t Button_GetState()
{
	static uint32_t prevState = RELEASED;
	uint32_t curState;
	curState = GPIO_ReadPin(GPIOC, 13); //pushed = 0

	if(prevState == RELEASED && (curState == PUSHED)){ //1st button pushed
		prevState = PUSHED; //state Update
		return ACT_PUSHED;
	}
	else if (prevState == PUSHED && (curState == RELEASED)){ //1st button pushed
		prevState = RELEASED; //state Update
		return ACT_RELEASED;
	}

	return NO_ACT ;
}
