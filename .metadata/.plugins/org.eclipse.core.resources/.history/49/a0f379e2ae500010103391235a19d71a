#include "Listener.h"

static Listener_CheckButton(); //외부에서 못부름

void Listener_Init()
{
	  Button_Init(&hBtnMode, GPIOB,  GPIO_PIN_5);
	  Button_Init(&hBtnRunStop, GPIOB, GPIO_PIN_3);
	  Button_Init(&hBtnClear, GPIOA, GPIO_PIN_10);
}

void Listener_Execute()
{
	Listener_CheckButton();
}

void Listener_CheckButton()
{
	if(Button_GetState(&hBtnMode) == ACT_RELEASED){
		inputData.id = MODE;
		inputData.data = ACT;
		Controller_SetInputData(inputData);
	}
	else if (Button_GetState(&hBtnRunStop) == ACT_PUSHED){
		inputData.id = STOPWATCH_RUNSTOP;
		inputData.data = ACT;
		Controller_SetInputData(inputData);
	}
	else if (Button_GetState(&hBtnClear) == ACT_PUSHED){
		inputData.id = STOPWATCH_CLEAR;
		inputData.data = ACT;
		Controller_SetInputData(inputData);
	}
}
