#include "LCD.h"

#define LCD_RS  0
#define LCD_RW  1
#define LCD_EN  2
#define LCD_BL  3



uint8_t LCDData = 0;


void LCD_cmdMode()  // RS가 0일 때 cmd mode
{
	LCDData &= ~(1<<LCD_RS);
	LCD_sendI2C(LCDData);
}

void LCD_charMode()  // RS가 1일 때 data mode
{
	LCDData |= (1<<LCD_RS);
	LCD_sendI2C(LCDData);
}



void LCD_EN_High()
{
	LCDData |= (1<<LCD_EN);
	LCD_sendI2C(LCDData);
}

void LCD_EN_Low()
{
	LCDData &= ~(1<<LCD_EN);
	LCD_sendI2C(LCDData);
}


void LCD_SendNibbleData(uint8_t data) //Nibble : 4bit만 전송
{
	LCD_EN_High();
	//상위 4bit
	LCDData = (data & 0xf0) | (LCDData & 0x0f); //data의 상위 bit를 얻기 위함
	LCD_sendI2C(LCDData);
	LCD_EN_Low();    // E High->LOW 데이터 전송
}


void LCD_SendData(uint8_t data)
{
	LCD_SendNibbleData(data);
	//하위 4bit
	data = data << 4;
	LCD_SendNibbleData(data);
}

void LCD_sendI2C(uint8_t data)
{

}
