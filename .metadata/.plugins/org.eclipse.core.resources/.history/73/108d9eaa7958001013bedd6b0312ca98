#include "TimeWatch.h"

timeWatch_t timeWatchData;

void TimeWatch_Init()
{
	timeWatchData.hour = 0;
	timeWatchData.min = 0;
	timeWatchData.sec = 0;
	timeWatchData.msec = 0;

	//FND와 공유하는 QUEUE(mail)에 값 넣기
	timeWatch_t *pStopWatchData = osMailAlloc(stopWatchDataMailBox,0);
	memcpy(pStopWatchData , &stopWatchData, sizeof(stopWatch_t));
	osMailPut(stopWatchDataMailBox, pStopWatchData);
}

void TimeWatch_Excute()
{

}


void TimeWatch_IncTimeCallBack() //1ms마다 Callback
{

	if(timeWatchData.msec != 1000-1){
		timeWatchData.msec++;
		return;
	}
	timeWatchData.msec = 0;

	if(timeWatchData.sec != 60-1){
		timeWatchData.sec++;
		return;
	}
	timeWatchData.sec = 0;

	if(timeWatchData.min != 60-1){
		timeWatchData.min++;
		return;
	}
	timeWatchData.min = 0;


	if(timeWatchData.hour != 24-1){
		timeWatchData.hour++;
		return;
	}
	timeWatchData.hour = 0;
}
